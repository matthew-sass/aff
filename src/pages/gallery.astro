---
import Layout from "../layouts/Layout.astro";
const thumbnails = Object.values(await import.meta.glob('./gallery/*.md', {eager: true}));
---
<Layout>
    <div class="list-container">
        <div class="masonry-grid">
            {
                thumbnails.map((post: any) => (
                    <div class="post">
                        <div class="image-container">
                            <a href={post.url}>
                                <img src={post.frontmatter.thumbnail} alt="" />
                            </a>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
    
</Layout>

<style>

.list-container {
    display: flex;
    justify-content: center;
    width: 100%;
}

.masonry-grid {
    column-count: 4;
    column-gap: 1em;
    max-width: 100%;
    margin: 1vh 4vw;
}

.post {
    display: inline-block;
    margin-bottom: 0.5em;
    break-inside: avoid;
    position: relative;
    transition: transform ease-in-out 1.0s;
}

.post img {
    width: 100%;
    height: auto;
    display: block;
    transition: .5s ease-in-out;
}

.post:hover img {
    opacity: 0.4;
}

a {
    color: #34312f;
}

@media (max-width: 1020px) {
    .masonry-grid {
        margin: 0.75vh 3vw;
        column-count: 3;
        column-gap: 0.75em;
    }

    .post {
        margin-bottom: 0.75em;
    }
}

@media (max-width: 768px) {
    .masonry-grid {
        margin: 0.5vh 3vw;
        column-count: 2;
        column-gap: 0.75em;
    }

    .post {
        margin-bottom: 0.75em;
    }
}
    
</style>